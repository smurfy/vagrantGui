<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VirtualBox Main API: ISnapshot Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<h1>ISnapshot Interface Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ISnapshot" -->
<p>The <a class="el" href="interface_i_snapshot.html" title="The ISnapshot interface represents a snapshot of the virtual machine.">ISnapshot</a> interface represents a snapshot of the virtual machine.  
<a href="#_details">More...</a></p>

<p><a href="interface_i_snapshot-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_snapshot.html#a6e23ed67180402f1ee3c27e7913b2791">getChildrenCount</a> ([retval] out unsigned long childrenCount)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of direct childrens of this snapshot.  <a href="#a6e23ed67180402f1ee3c27e7913b2791"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">readonly attribute wstringUUID&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_snapshot.html#a14760153ae364472c08e49a287eede43">id</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">UUID of the snapshot.  <a href="#a14760153ae364472c08e49a287eede43"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">attribute wstring&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_snapshot.html#a2815b9527cbf307741bb2ff8da8fc53d">name</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Short name of the snapshot.  <a href="#a2815b9527cbf307741bb2ff8da8fc53d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">attribute wstring&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_snapshot.html#a395201b3a0b2fbb1f1d95a7362e9a30e">description</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Optional description of the snapshot.  <a href="#a395201b3a0b2fbb1f1d95a7362e9a30e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">readonly attribute long long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_snapshot.html#ac625e9e444b846bce57b9b180b4531ac">timeStamp</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Time stamp of the snapshot, in milliseconds since 1970-01-01 UTC.  <a href="#ac625e9e444b846bce57b9b180b4531ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">readonly attribute boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_snapshot.html#ae9b3979e6de0dd5d54eb9996b2f98c58">online</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><code>true</code> if this snapshot is an online snapshot and <code>false</code> otherwise.  <a href="#ae9b3979e6de0dd5d54eb9996b2f98c58"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="interface_i_machine.html">IMachine</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_snapshot.html#a24c0389ee2c91ee8db14f5a09a956bc4">machine</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Virtual machine this snapshot is taken on.  <a href="#a24c0389ee2c91ee8db14f5a09a956bc4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="interface_i_snapshot.html">ISnapshot</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_snapshot.html#adae3137a0a8e50ad3d4e848e473fdc6a">parent</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parent snapshot (a snapshot this one is based on), or <code>null</code> if the snapshot has no parent (i.e.  <a href="#adae3137a0a8e50ad3d4e848e473fdc6a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="interface_i_snapshot.html">ISnapshot</a>[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_snapshot.html#a7864167d1b7c440cc3bb49c1a8626354">children</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Child snapshots (all snapshots having this one as a parent).  <a href="#a7864167d1b7c440cc3bb49c1a8626354"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The <a class="el" href="interface_i_snapshot.html" title="The ISnapshot interface represents a snapshot of the virtual machine.">ISnapshot</a> interface represents a snapshot of the virtual machine. </p>
<p>Together with the differencing media that are created when a snapshot is taken, a machine can be brought back to the exact state it was in when the snapshot was taken.</p>
<p>The <a class="el" href="interface_i_snapshot.html" title="The ISnapshot interface represents a snapshot of the virtual machine.">ISnapshot</a> interface has no methods, only attributes; snapshots are controlled through methods of the <a class="el" href="interface_i_console.html">IConsole</a><b></b> interface which also manage the media associated with the snapshot. The following operations exist:</p>
<ul>
<li>
<p class="startli"><a class="el" href="interface_i_console.html#a2bf8c3d28f9d8782db8c4098b1bc5c7e">IConsole::takeSnapshot</a><b></b> creates a new snapshot by creating new, empty differencing images for the machine's media and saving the VM settings and (if the VM is running) the current VM state in the snapshot.</p>
<p>The differencing images will then receive all data written to the machine's media, while their parent (base) images remain unmodified after the snapshot has been taken (see <a class="el" href="interface_i_medium.html">IMedium</a><b></b> for details about differencing images). This simplifies restoring a machine to the state of a snapshot: only the differencing images need to be deleted.</p>
<p class="endli">The current machine state is not changed by taking a snapshot except that <a class="el" href="interface_i_machine.html#ac785dbe04eccc0793d949d6940202767">IMachine::currentSnapshot</a><b></b> is set to the newly created snapshot, which is also added to the machine's snapshots tree.  </p>
</li>
<li>
<p class="startli"><a class="el" href="interface_i_console.html#aa310049a3d86b48c9c8b5ddd39094342">IConsole::restoreSnapshot</a><b></b> resets a machine to the state of a previous snapshot by deleting the differencing image of each of the machine's media and setting the machine's settings and state to the state that was saved in the snapshot (if any).</p>
<p class="endli">This destroys the machine's current state. After calling this, <a class="el" href="interface_i_machine.html#ac785dbe04eccc0793d949d6940202767">IMachine::currentSnapshot</a><b></b> points to the snapshot that was restored.  </p>
</li>
<li>
<p class="startli"><a class="el" href="interface_i_console.html#aae96e7c62ee31ae37f88c94293dc9bfe">IConsole::deleteSnapshot</a><b></b> deletes a snapshot without affecting the current machine state.</p>
<p>This does not change the current machine state, but instead frees the resources allocated when the snapshot was taken: the settings and machine state file are deleted (if any), and the snapshot's differencing image for each of the machine's media gets merged with its parent image.</p>
<p>Neither the current machine state nor other snapshots are affected by this operation, except that parent media will be modified to contain the disk data associated with the snapshot being deleted.</p>
<p class="endli">When deleting the current snapshot, the <a class="el" href="interface_i_machine.html#ac785dbe04eccc0793d949d6940202767">IMachine::currentSnapshot</a><b></b> attribute is set to the current snapshot's parent or <code>null</code> if it has no parent. Otherwise the attribute is unchanged.  </p>
</li>
</ul>
<p>Each snapshot contains a copy of virtual machine's settings (hardware configuration etc.). This copy is contained in an immutable (read-only) instance of <a class="el" href="interface_i_machine.html">IMachine</a><b></b> which is available from the snapshot's <a class="el" href="interface_i_snapshot.html#a24c0389ee2c91ee8db14f5a09a956bc4">machine</a><b></b> attribute. When restoring the snapshot, these settings are copied back to the original machine.</p>
<p>In addition, if the machine was running when the snapshot was taken (<a class="el" href="interface_i_machine.html#a9653e9d996d60fc54e8bed22179d92b2">IMachine::state</a><b></b> is <a class="el" href="_virtual_box_8idl.html#a80b08f71210afe16038e904a656ed9ebaa1d63e2dc67a7d3f2afdc60696518993">MachineState_Running</a><b></b>), the current VM state is saved in the snapshot (similarly to what happens when a VM's state is saved). The snapshot is then said to be <em>online</em> because when restoring it, the VM will be running.</p>
<p>If the machine was in <a class="el" href="_virtual_box_8idl.html#a80b08f71210afe16038e904a656ed9ebac8fa7577db141baf9cc06279665f122b">saved</a><b></b> saved, the snapshot receives a copy of the execution state file (<a class="el" href="interface_i_machine.html#a6bf84094ff47ad0f8f2517ee513eed02">IMachine::stateFilePath</a><b></b>).</p>
<p>Otherwise, if the machine was not running (<a class="el" href="_virtual_box_8idl.html#a80b08f71210afe16038e904a656ed9eba6df0b3a8e0344fd4c25300b6fb718c73">MachineState_PoweredOff</a><b></b> or <a class="el" href="_virtual_box_8idl.html#a80b08f71210afe16038e904a656ed9eba931466b6a20bc1e009437eb5956c7d46">MachineState_Aborted</a><b></b>), the snapshot is <em>offline</em>; it then contains a so-called "zero execution state", representing a machine that is powered off.</p>
<dl class="user"><dt><b>Interface ID:</b></dt><dd><code>{0472823B-C6E7-472A-8E9F-D732E86B8463}</code> </dd></dl>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6e23ed67180402f1ee3c27e7913b2791"></a><!-- doxytag: member="ISnapshot::getChildrenCount" ref="a6e23ed67180402f1ee3c27e7913b2791" args="([retval] out unsigned long childrenCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ISnapshot::getChildrenCount </td>
          <td>(</td>
          <td class="paramtype">[retval] out unsigned long&nbsp;</td>
          <td class="paramname"> <em>childrenCount</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of direct childrens of this snapshot. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>childrenCount</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a14760153ae364472c08e49a287eede43"></a><!-- doxytag: member="ISnapshot::id" ref="a14760153ae364472c08e49a287eede43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute wstringUUID <a class="el" href="interface_i_snapshot.html#a14760153ae364472c08e49a287eede43">ISnapshot::id</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>UUID of the snapshot. </p>

</div>
</div>
<a class="anchor" id="a2815b9527cbf307741bb2ff8da8fc53d"></a><!-- doxytag: member="ISnapshot::name" ref="a2815b9527cbf307741bb2ff8da8fc53d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">attribute wstring <a class="el" href="interface_i_snapshot.html#a2815b9527cbf307741bb2ff8da8fc53d">ISnapshot::name</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Short name of the snapshot. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Setting this attribute causes <a class="el" href="interface_i_machine.html#a2eb47e1d878566569b26893cc12bd8e1">IMachine::saveSettings</a><b></b> to be called implicitly. </dd></dl>

</div>
</div>
<a class="anchor" id="a395201b3a0b2fbb1f1d95a7362e9a30e"></a><!-- doxytag: member="ISnapshot::description" ref="a395201b3a0b2fbb1f1d95a7362e9a30e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">attribute wstring <a class="el" href="interface_i_snapshot.html#a395201b3a0b2fbb1f1d95a7362e9a30e">ISnapshot::description</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Optional description of the snapshot. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Setting this attribute causes <a class="el" href="interface_i_machine.html#a2eb47e1d878566569b26893cc12bd8e1">IMachine::saveSettings</a><b></b> to be called implicitly. </dd></dl>

</div>
</div>
<a class="anchor" id="ac625e9e444b846bce57b9b180b4531ac"></a><!-- doxytag: member="ISnapshot::timeStamp" ref="ac625e9e444b846bce57b9b180b4531ac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute long long <a class="el" href="interface_i_snapshot.html#ac625e9e444b846bce57b9b180b4531ac">ISnapshot::timeStamp</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Time stamp of the snapshot, in milliseconds since 1970-01-01 UTC. </p>

</div>
</div>
<a class="anchor" id="ae9b3979e6de0dd5d54eb9996b2f98c58"></a><!-- doxytag: member="ISnapshot::online" ref="ae9b3979e6de0dd5d54eb9996b2f98c58" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute boolean <a class="el" href="interface_i_snapshot.html#ae9b3979e6de0dd5d54eb9996b2f98c58">ISnapshot::online</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><code>true</code> if this snapshot is an online snapshot and <code>false</code> otherwise. </p>
<p>When this attribute is <code>true</code>, the <a class="el" href="interface_i_machine.html#a6bf84094ff47ad0f8f2517ee513eed02">IMachine::stateFilePath</a><b></b> attribute of the <a class="el" href="interface_i_snapshot.html#a24c0389ee2c91ee8db14f5a09a956bc4">machine</a><b></b> object associated with this snapshot will point to the saved state file. Otherwise, it will be an empty string. </p>

</div>
</div>
<a class="anchor" id="a24c0389ee2c91ee8db14f5a09a956bc4"></a><!-- doxytag: member="ISnapshot::machine" ref="a24c0389ee2c91ee8db14f5a09a956bc4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="interface_i_machine.html">IMachine</a> <a class="el" href="interface_i_snapshot.html#a24c0389ee2c91ee8db14f5a09a956bc4">ISnapshot::machine</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Virtual machine this snapshot is taken on. </p>
<p>This object stores all settings the machine had when taking this snapshot.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The returned machine object is immutable, i.e. no any settings can be changed. </dd></dl>

</div>
</div>
<a class="anchor" id="adae3137a0a8e50ad3d4e848e473fdc6a"></a><!-- doxytag: member="ISnapshot::parent" ref="adae3137a0a8e50ad3d4e848e473fdc6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="interface_i_snapshot.html">ISnapshot</a> <a class="el" href="interface_i_snapshot.html#adae3137a0a8e50ad3d4e848e473fdc6a">ISnapshot::parent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parent snapshot (a snapshot this one is based on), or <code>null</code> if the snapshot has no parent (i.e. </p>
<p>is the first snapshot). </p>

</div>
</div>
<a class="anchor" id="a7864167d1b7c440cc3bb49c1a8626354"></a><!-- doxytag: member="ISnapshot::children" ref="a7864167d1b7c440cc3bb49c1a8626354" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="interface_i_snapshot.html">ISnapshot</a> [] <a class="el" href="interface_i_snapshot.html#a7864167d1b7c440cc3bb49c1a8626354">ISnapshot::children</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Child snapshots (all snapshots having this one as a parent). </p>
<p>By inspecting this attribute starting with a machine's root snapshot (which can be obtained by calling <a class="el" href="interface_i_machine.html#a93d4c50ba76cf7a8930d8364961ed60e">IMachine::findSnapshot</a><b></b> with a <code>null</code> UUID), a machine's snapshots tree can be iterated over. </p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Sep 13 2012 07:09:49 for VirtualBox Main API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
