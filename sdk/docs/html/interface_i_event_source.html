<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VirtualBox Main API: IEventSource Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>IEventSource Interface Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="IEventSource" -->
<p>Event source.  
<a href="#_details">More...</a></p>

<p><a href="interface_i_event_source-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_event_source.html#aad89d43d3cbdc2e9201896c684cd25dc">createListener</a> ([retval] out <a class="el" href="interface_i_event_listener.html">IEventListener</a> listener)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new listener object, useful for passive mode.  <a href="#aad89d43d3cbdc2e9201896c684cd25dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_event_source.html#a37209a96d2dc21dc18112f66fcaa036f">createAggregator</a> (in <a class="el" href="interface_i_event_source.html">IEventSource</a>[] subordinates,[retval] out <a class="el" href="interface_i_event_source.html">IEventSource</a> result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates an aggregator event source, collecting events from multiple sources.  <a href="#a37209a96d2dc21dc18112f66fcaa036f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_event_source.html#a663bc2d863defd427b09d0323e9cf0a5">registerListener</a> (in <a class="el" href="interface_i_event_listener.html">IEventListener</a> listener, in <a class="el" href="_virtual_box_8idl.html#ab869a099f4a40172d197c9adeffe4bd4">VBoxEventType</a>[] interesting, in boolean active)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register an event listener.  <a href="#a663bc2d863defd427b09d0323e9cf0a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_event_source.html#a13f9e764f6c2476aee792d6ee7446cc8">unregisterListener</a> (in <a class="el" href="interface_i_event_listener.html">IEventListener</a> listener)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unregister an event listener.  <a href="#a13f9e764f6c2476aee792d6ee7446cc8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_event_source.html#a046ae2a3ffa213e7d1d98a0553a1dce4">fireEvent</a> (in <a class="el" href="interface_i_event.html">IEvent</a> event, in long timeout,[retval] out boolean result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fire an event for this source.  <a href="#a046ae2a3ffa213e7d1d98a0553a1dce4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_event_source.html#a059b6a2c6247ff1c13f0a16f1afea19f">getEvent</a> (in <a class="el" href="interface_i_event_listener.html">IEventListener</a> listener, in long timeout,[retval] out <a class="el" href="interface_i_event.html">IEvent</a> event)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get events from this peer's event queue (for passive mode).  <a href="#a059b6a2c6247ff1c13f0a16f1afea19f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_event_source.html#abedc1e5401a7e8c762ea18a84b5609de">eventProcessed</a> (in <a class="el" href="interface_i_event_listener.html">IEventListener</a> listener, in <a class="el" href="interface_i_event.html">IEvent</a> event)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Must be called for waitable events after a particular listener finished its event processing.  <a href="#abedc1e5401a7e8c762ea18a84b5609de"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Event source. </p>
<p>Generally, any object which could generate events can be an event source, or aggregate one. To simplify using one-way protocols such as webservices running on top of HTTP(S), an event source can work with listeners in either active or passive mode. In active mode it is up to the <a class="el" href="interface_i_event_source.html" title="Event source.">IEventSource</a> implementation to call <a class="el" href="interface_i_event_listener.html#aa85f785eed52ccbeec3b8dd573a294e2">IEventListener::handleEvent</a><b></b>, in passive mode the event source keeps track of pending events for each listener and returns available events on demand.</p>
<p>See <a class="el" href="interface_i_event.html">IEvent</a><b></b> for an introduction to VirtualBox event handling.</p>
<dl class="user"><dt><b>Interface ID:</b></dt><dd><code>{9B6E1AEE-35F3-4F4D-B5BB-ED0ECEFD8538}</code> </dd></dl>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aad89d43d3cbdc2e9201896c684cd25dc"></a><!-- doxytag: member="IEventSource::createListener" ref="aad89d43d3cbdc2e9201896c684cd25dc" args="([retval] out IEventListener listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IEventSource::createListener </td>
          <td>(</td>
          <td class="paramtype">[retval] out <a class="el" href="interface_i_event_listener.html">IEventListener</a>&nbsp;</td>
          <td class="paramname"> <em>listener</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new listener object, useful for passive mode. </p>

</div>
</div>
<a class="anchor" id="a37209a96d2dc21dc18112f66fcaa036f"></a><!-- doxytag: member="IEventSource::createAggregator" ref="a37209a96d2dc21dc18112f66fcaa036f" args="(in IEventSource[] subordinates,[retval] out IEventSource result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IEventSource::createAggregator </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="interface_i_event_source.html">IEventSource</a>[]&nbsp;</td>
          <td class="paramname"> <em>subordinates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[retval] out <a class="el" href="interface_i_event_source.html">IEventSource</a>&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates an aggregator event source, collecting events from multiple sources. </p>
<p>This way a single listener can listen for events coming from multiple sources, using a single blocking <a class="el" href="interface_i_event_source.html#a059b6a2c6247ff1c13f0a16f1afea19f">getEvent</a><b></b> on the returned aggregator.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>subordinates</em>&nbsp;</td><td>Subordinate event source this one aggregatres.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>Event source aggregating passed sources. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a663bc2d863defd427b09d0323e9cf0a5"></a><!-- doxytag: member="IEventSource::registerListener" ref="a663bc2d863defd427b09d0323e9cf0a5" args="(in IEventListener listener, in VBoxEventType[] interesting, in boolean active)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IEventSource::registerListener </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="interface_i_event_listener.html">IEventListener</a>&nbsp;</td>
          <td class="paramname"> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in <a class="el" href="_virtual_box_8idl.html#ab869a099f4a40172d197c9adeffe4bd4">VBoxEventType</a>[]&nbsp;</td>
          <td class="paramname"> <em>interesting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in boolean&nbsp;</td>
          <td class="paramname"> <em>active</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register an event listener. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>listener</em>&nbsp;</td><td>Listener to register.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>interesting</em>&nbsp;</td><td>Event types listener is interested in. One can use wildcards like - <a class="el" href="_virtual_box_8idl.html#ab869a099f4a40172d197c9adeffe4bd4a68dc80fb00ae3f20a80d53aba0080d80">VBoxEventType_Any</a><b></b> to specify wildcards, matching more than one event.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>active</em>&nbsp;</td><td>Which mode this listener is operating in. In active mode, <a class="el" href="interface_i_event_listener.html#aa85f785eed52ccbeec3b8dd573a294e2">IEventListener::handleEvent</a><b></b> is called directly. In passive mode, an internal event queue is created for this this <a class="el" href="interface_i_event_listener.html" title="Event listener.">IEventListener</a>. For each event coming in, it is added to queues for all interested registered passive listeners. It is then up to the external code to call the listener's <a class="el" href="interface_i_event_listener.html#aa85f785eed52ccbeec3b8dd573a294e2">IEventListener::handleEvent</a><b></b> method. When done with an event, the external code must call <a class="el" href="interface_i_event_source.html#abedc1e5401a7e8c762ea18a84b5609de">eventProcessed</a><b></b>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>To avoid system overload, the VirtualBox server process checks if passive event listeners call <a class="el" href="interface_i_event_source.html#a059b6a2c6247ff1c13f0a16f1afea19f">IEventSource::getEvent</a><b></b> frequently enough. In the current implementation, if more than 500 pending events are detected for a passive event listener, it is forcefully unregistered by the system, and further <a class="el" href="interface_i_event_source.html#a059b6a2c6247ff1c13f0a16f1afea19f">getEvent</a><b></b> calls will return <code>VBOX_E_OBJECT_NOT_FOUND</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="a13f9e764f6c2476aee792d6ee7446cc8"></a><!-- doxytag: member="IEventSource::unregisterListener" ref="a13f9e764f6c2476aee792d6ee7446cc8" args="(in IEventListener listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IEventSource::unregisterListener </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="interface_i_event_listener.html">IEventListener</a>&nbsp;</td>
          <td class="paramname"> <em>listener</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unregister an event listener. </p>
<p>If listener is passive, and some waitable events are still in queue they are marked as processed automatically.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>listener</em>&nbsp;</td><td>Listener to unregister. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a046ae2a3ffa213e7d1d98a0553a1dce4"></a><!-- doxytag: member="IEventSource::fireEvent" ref="a046ae2a3ffa213e7d1d98a0553a1dce4" args="(in IEvent event, in long timeout,[retval] out boolean result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IEventSource::fireEvent </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="interface_i_event.html">IEvent</a>&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in long&nbsp;</td>
          <td class="paramname"> <em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[retval] out boolean&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fire an event for this source. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>event</em>&nbsp;</td><td>Event to deliver.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Maximum time to wait for event processing (if event is waitable), in ms; 0 = no wait, -1 = indefinite wait.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>true if an event was delivered to all targets, or is non-waitable. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a059b6a2c6247ff1c13f0a16f1afea19f"></a><!-- doxytag: member="IEventSource::getEvent" ref="a059b6a2c6247ff1c13f0a16f1afea19f" args="(in IEventListener listener, in long timeout,[retval] out IEvent event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IEventSource::getEvent </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="interface_i_event_listener.html">IEventListener</a>&nbsp;</td>
          <td class="paramname"> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in long&nbsp;</td>
          <td class="paramname"> <em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[retval] out <a class="el" href="interface_i_event.html">IEvent</a>&nbsp;</td>
          <td class="paramname"> <em>event</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get events from this peer's event queue (for passive mode). </p>
<p>Calling this method regularly is required for passive event listeners to avoid system overload; see <a class="el" href="interface_i_event_source.html#a663bc2d863defd427b09d0323e9cf0a5">IEventSource::registerListener</a><b></b> for details.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>listener</em>&nbsp;</td><td>Which listener to get data for.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Maximum time to wait for events, in ms; 0 = no wait, -1 = indefinite wait.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>event</em>&nbsp;</td><td>Event retrieved, or null if none available.</td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Expected result codes:</b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="group___virtual_box___c_o_m__result__codes.html#ga80982f93e26785a807034131de6cfba5">VBOX_E_OBJECT_NOT_FOUND </a> </td><td>Listener is not registered, or autounregistered.  </td></tr>
</table>
</dd></dl>

</div>
</div>
<a class="anchor" id="abedc1e5401a7e8c762ea18a84b5609de"></a><!-- doxytag: member="IEventSource::eventProcessed" ref="abedc1e5401a7e8c762ea18a84b5609de" args="(in IEventListener listener, in IEvent event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IEventSource::eventProcessed </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="interface_i_event_listener.html">IEventListener</a>&nbsp;</td>
          <td class="paramname"> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in <a class="el" href="interface_i_event.html">IEvent</a>&nbsp;</td>
          <td class="paramname"> <em>event</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Must be called for waitable events after a particular listener finished its event processing. </p>
<p>When all listeners of a particular event have called this method, the system will then call <a class="el" href="interface_i_event.html#a3c6dca949a20f509a58eedb31462cf16">IEvent::setProcessed</a><b></b>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>listener</em>&nbsp;</td><td>Which listener processed event.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>event</em>&nbsp;</td><td>Which event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Apr 12 2012 16:55:01 for VirtualBox Main API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
