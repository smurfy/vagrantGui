<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VirtualBox Main API: ISession Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<h1>ISession Interface Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ISession" -->
<p>The <a class="el" href="interface_i_session.html" title="The ISession interface represents a client process and allows for locking virtual machines (represent...">ISession</a> interface represents a client process and allows for locking virtual machines (represented by <a class="el" href="interface_i_machine.html" title="The IMachine interface represents a virtual machine, or guest, created in VirtualBox.">IMachine</a> objects) to prevent conflicting changes to the machine.  
<a href="#_details">More...</a></p>

<p><a href="interface_i_session-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#a87571b3c87d705ee013b24f135f43715">unlockMachine</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlocks a machine that was previously locked for the current session.  <a href="#a87571b3c87d705ee013b24f135f43715"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="_virtual_box_8idl.html#ac82c179a797c0d7c249d1b98a8e3aa8f">SessionState</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#aac4763cc59a693a81170ed9d1118d571">state</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current state of this session.  <a href="#aac4763cc59a693a81170ed9d1118d571"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="_virtual_box_8idl.html#a0695685c902e6c161ea20c244f605044">SessionType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#ac3ce0abc5951d6e244c456518d7574b1">type</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of this session.  <a href="#ac3ce0abc5951d6e244c456518d7574b1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="interface_i_machine.html">IMachine</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#a83d8f53d35e522599b192cac168c3495">machine</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Machine object associated with this session.  <a href="#a83d8f53d35e522599b192cac168c3495"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="interface_i_console.html">IConsole</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#a9e36ef0b77cc8ef17fbe480f39492fad">console</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Console object associated with this session.  <a href="#a9e36ef0b77cc8ef17fbe480f39492fad"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The <a class="el" href="interface_i_session.html" title="The ISession interface represents a client process and allows for locking virtual machines (represent...">ISession</a> interface represents a client process and allows for locking virtual machines (represented by <a class="el" href="interface_i_machine.html" title="The IMachine interface represents a virtual machine, or guest, created in VirtualBox.">IMachine</a> objects) to prevent conflicting changes to the machine. </p>
<p>Any caller wishing to manipulate a virtual machine needs to create a session object first, which lives in its own process space. Such session objects are then associated with <a class="el" href="interface_i_machine.html">IMachine</a><b></b> objects living in the VirtualBox server process to coordinate such changes.</p>
<p>There are two typical scenarios in which sessions are used:</p>
<ul>
<li>
<p class="startli">To alter machine settings or control a running virtual machine, one needs to lock a machine for a given session (client process) by calling <a class="el" href="interface_i_machine.html#af28da645b00a821547d9cb8e92f8b7b0">IMachine::lockMachine</a><b></b>.</p>
<p>Whereas multiple sessions may control a running virtual machine, only one process can obtain a write lock on the machine to prevent conflicting changes. A write lock is also needed if a process wants to actually run a virtual machine in its own context, such as the VirtualBox GUI or VBoxHeadless front-ends. They must also lock a machine for their own sessions before they are allowed to power up the virtual machine.</p>
<p class="endli">As a result, no machine settings can be altered while another process is already using it, either because that process is modifying machine settings or because the machine is running.  </p>
</li>
<li>
To start a VM using one of the existing VirtualBox front-ends (e.g. the VirtualBox GUI or VBoxHeadless), one would use <a class="el" href="interface_i_machine.html#a5f6e112de89f7e1d300738c9a055d5c9">IMachine::launchVMProcess</a><b></b>, which also takes a session object as its first parameter. This session then identifies the caller and lets the caller control the started machine (for example, pause machine execution or power it down) as well as be notified about machine execution state changes.  </li>
</ul>
<p>How sessions objects are created in a client process depends on whether you use the Main API via COM or via the webservice:</p>
<ul>
<li>
When using the COM API directly, an object of the Session class from the VirtualBox type library needs to be created. In regular COM C++ client code, this can be done by calling <code>createLocalObject()</code>, a standard COM API. This object will then act as a local session object in further calls to open a session.  </li>
<li>
In the webservice, the session manager (<a class="el" href="interface_i_websession_manager.html" title="Websession manager.">IWebsessionManager</a>) instead creates a session object automatically whenever <a class="el" href="interface_i_websession_manager.html#ada0de436851fc0da29319592ca868294">IWebsessionManager::logon</a><b></b> is called. A managed object reference to that session object can be retrieved by calling <a class="el" href="interface_i_websession_manager.html#a58378d2556023a16c40935222bab8452">IWebsessionManager::getSessionObject</a><b></b>.  </li>
</ul>
<dl class="user"><dt><b>Interface ID:</b></dt><dd><code>{12F4DCDB-12B2-4EC1-B7CD-DDD9F6C5BF4D}</code> </dd></dl>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a87571b3c87d705ee013b24f135f43715"></a><!-- doxytag: member="ISession::unlockMachine" ref="a87571b3c87d705ee013b24f135f43715" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ISession::unlockMachine </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unlocks a machine that was previously locked for the current session. </p>
<p>Calling this method is required every time a machine has been locked for a particular session using the <a class="el" href="interface_i_machine.html#a5f6e112de89f7e1d300738c9a055d5c9">IMachine::launchVMProcess</a><b></b> or <a class="el" href="interface_i_machine.html#af28da645b00a821547d9cb8e92f8b7b0">IMachine::lockMachine</a><b></b> calls. Otherwise the state of the machine will be set to <a class="el" href="_virtual_box_8idl.html#a80b08f71210afe16038e904a656ed9eba931466b6a20bc1e009437eb5956c7d46">MachineState_Aborted</a><b></b> on the server, and changes made to the machine settings will be lost.</p>
<p>Generally, it is recommended to unlock all machines explicitly before terminating the application (regardless of the reason for the termination).</p>
<dl class="user"><dt><b>Expected result codes:</b></dt><dd><table class="doxtable">
<tr>
<td>E_UNEXPECTED </td><td>Session is not locked.  </td></tr>
</table>
</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Do not expect the session state (<a class="el" href="interface_i_session.html#aac4763cc59a693a81170ed9d1118d571">ISession::state</a><b></b> to return to "Unlocked" immediately after you invoke this method, particularly if you have started a new VM process. The session state will automatically return to "Unlocked" once the VM is no longer executing, which can of course take a very long time. </dd></dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aac4763cc59a693a81170ed9d1118d571"></a><!-- doxytag: member="ISession::state" ref="aac4763cc59a693a81170ed9d1118d571" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="_virtual_box_8idl.html#ac82c179a797c0d7c249d1b98a8e3aa8f">SessionState</a> <a class="el" href="interface_i_session.html#aac4763cc59a693a81170ed9d1118d571">ISession::state</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current state of this session. </p>

</div>
</div>
<a class="anchor" id="ac3ce0abc5951d6e244c456518d7574b1"></a><!-- doxytag: member="ISession::type" ref="ac3ce0abc5951d6e244c456518d7574b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="_virtual_box_8idl.html#a0695685c902e6c161ea20c244f605044">SessionType</a> <a class="el" href="interface_i_session.html#ac3ce0abc5951d6e244c456518d7574b1">ISession::type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type of this session. </p>
<p>The value of this attribute is valid only if the session currently has a machine locked (i.e. its <a class="el" href="interface_i_session.html#aac4763cc59a693a81170ed9d1118d571">state</a><b></b> is Locked), otherwise an error will be returned. </p>

</div>
</div>
<a class="anchor" id="a83d8f53d35e522599b192cac168c3495"></a><!-- doxytag: member="ISession::machine" ref="a83d8f53d35e522599b192cac168c3495" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="interface_i_machine.html">IMachine</a> <a class="el" href="interface_i_session.html#a83d8f53d35e522599b192cac168c3495">ISession::machine</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Machine object associated with this session. </p>

</div>
</div>
<a class="anchor" id="a9e36ef0b77cc8ef17fbe480f39492fad"></a><!-- doxytag: member="ISession::console" ref="a9e36ef0b77cc8ef17fbe480f39492fad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="interface_i_console.html">IConsole</a> <a class="el" href="interface_i_session.html#a9e36ef0b77cc8ef17fbe480f39492fad">ISession::console</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Console object associated with this session. </p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Sep 13 2012 07:09:49 for VirtualBox Main API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
